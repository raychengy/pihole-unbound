server:
    # Use all CPUs
    num-threads: 1

    # Listen on all interfaces (internal to the container)
    interface: 0.0.0.0
    port: 53

    # Enable IPv4 and TCP/UDP
    do-ip4: yes
    do-udp: yes
    do-tcp: yes
    
    # Disable IPv6 (Unless you are 100% sure your network handles it)
    do-ip6: no
    
    # Security / Privacy
    harden-glue: yes
    harden-dnssec-stripped: yes
    use-caps-for-id: no
    edns-buffer-size: 1232
    prefetch: yes
    
    # Privacy: Don't tell the root servers exactly who asked
    qname-minimisation: yes
    
    # Access Control: Allow the Docker Internal Network
    # (These ranges cover standard Docker subnets)
    access-control: 127.0.0.0/8 allow
    access-control: 10.0.0.0/8 allow
    access-control: 172.16.0.0/12 allow
    access-control: 192.168.0.0/16 allow

    # LOGGING (Optional - helpful for debugging)
    verbosity: 1
    logfile: ""  # Log to stdout (so 'docker logs' works)

    # Root Hints File
    # Since we map the folder to /opt/unbound/etc/unbound, the file is here:
    root-hints: "/opt/unbound/etc/unbound/root.hints"

    # Auto-Trust Anchor (DNSSEC)
    # Unbound needs to write to this file, so the folder must be writable
    auto-trust-anchor-file: "/opt/unbound/etc/unbound/root.key"